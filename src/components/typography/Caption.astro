---
/**
 * Caption Component
 *
 * Secondary text for metadata, dates, and supporting information.
 * Sentence case, muted colour, compact line-height.
 *
 * @example
 * <Caption>12 December 2024</Caption>
 * <Caption numeric>5 min read</Caption>
 * <Caption color="fg">Highlighted caption</Caption>
 */

import type {HTMLAttributes} from "astro/types";

import type {TypographyColor} from "./types";

interface Props extends HTMLAttributes<"span"> {
  tag?: keyof HTMLElementTagNameMap;
  /** Use tabular numerals for aligned numbers (dates, times, stats) */
  numeric?: boolean;
  color?: TypographyColor;
}

const {
  tag: Tag = "span",
  numeric = false,
  color = "muted",
  class: className,
  ...attrs
} = Astro.props;
---

<Tag
  class:list={[
    "sf-caption",
    `sf-caption-${color}`,
    {"sf-caption-numeric": numeric},
    className,
  ]}
  {...attrs}
>
  <slot />
</Tag>

<style>
  .sf-caption {
    font-size: var(--text-sm);
    font-weight: var(--font-regular);
    line-height: var(--leading-16);
  }

  .sf-caption-muted {
    color: var(--muted);
  }

  .sf-caption-fg {
    color: var(--fg);
  }

  .sf-caption-numeric {
    font-variant-numeric: tabular-nums;
  }
</style>
